# 用例
这是对`ApacheKafka®`的一些流行用例的描述。有关这些领域的概述，请参阅此[博客文章](https://engineering.linkedin.com/distributed-systems/log-what-every-software-engineer-should-know-about-real-time-datas-unifying)。

## 消息传递
`Kafka`可以很好地替代传统邮件代理。消息代理的使用有多种原因（将处理与数据生产者分离，缓冲未处理的消息等）。与大多数邮件系统相比，`Kafka`具有更好的吞吐量，内置的分区，复制和容错能力，这使其成为大规模邮件处理应用程序的理想解决方案。
根据我们的经验，消息传递的使用通常吞吐量较低，但是可能需要较低的端到端延迟，并且通常取决于`Kafka`提供的强大的持久性保证。

在这个领域，`Kafka`与`ActiveMQ`或`RabbitMQ`等传统消息传递系统相当。

## 网站活动跟踪
`Kafka`最初的用例是能够将用户活动跟踪管道重建为一组实时的发布-订阅供稿。这意味着将网站活动（页面浏览，搜索或用户可能采取的其他操作）发布到中心`topic`，每种活动类型只有一个`topic`。这些提要可用于一系列用例的订阅，包括实时处理，实时监控，以及加载到`Hadoop`或脱机数据仓库系统中以进行脱机处理和报告。
活动跟踪通常量很大，因为每个用户页面视图都会生成许多活动消息。

## 指标
`Kafka`通常用于操作监控数据。这涉及汇总来自分布式应用程序的统计信息，以生成集中的运行数据提要。

## 日志汇总
许多人使用`Kafka`代替日志聚合解决方案。日志聚合通常从服务器收集物理日志文件，并将它们放在中央位置（也许是文件服务器或`HDFS`）以进行处理。`Kafka`提取文件的详细信息，并将日志或事件数据作为消息流进行更清晰的抽象。这允许较低延迟的处理，并且更容易支持多个数据源和分布式数据消耗。与以日志为中心的系统（如`Scribe`或`Flume`）相比，`Kafka`具有同样出色的性能，由于复制而提供的更强的耐用性保证以及更低的端到端延迟。

## 流处理
`Kafka`的许多用户在由多个阶段组成的处理管道中处理数据，其中原始输入数据从`Kafka``topic`中使用，然后进行汇总，充实或以其他方式转换为新`topic`，以供进一步使用或后续处理。例如，用于推荐新闻文章的处理管道可能会从`RSS`提要中检索文章内容，并将其发布到“文章”`topic`中。进一步的处理可能会使该内容规范化或重复数据删除，并将清洗后的文章内容发布到新`topic`中；最后的处理阶段可能会尝试向用户推荐此内容。这样的处理管道基于各个`topic`创建实时数据流的图形。从`0.10.0.0`开始，一个轻量但功能强大的流处理库称为`Kafka Streams`,可以在`Apache Kafka`中使用来执行上述数据处理。除了`Kafka Streams`之外，其他开源流处理工具还包括`Apache Storm`和`Apache Samza`。

## 事件源
[事件源](https://martinfowler.com/eaaDev/EventSourcing.html)是一种应用程序设计样式，其中状态更改以时间顺序记录记录。`Kafka`对大量存储的日志数据的支持使其成为使用这种样式构建的应用程序的绝佳后端。

## 提交日志
`Kafka`可以用作分布式系统的一种外部提交日志。该日志有助于在节点之间复制数据，并充当故障节点恢复其数据的重新同步机制。`Kafka`中的日志压缩功能有助于支持此用法。在这种用法中，`Kafka`与`Apache BookKeeper`项目相似。